# 前言

> 本文根据《高等数学》第三版，及网上资料整理所得。
>
> 本文将介绍不定积分所有方法及应用，本文较长，可能会分几篇。内容主要为：有理函数积分、==三角有理函数积分==、换元法$+$分部积分等。读者可以根据自己薄弱项自行浏览观看。

# 三角有理函数积分

三角有理式：纯三角函数与常数组成的函数式，记作$f(sinx,cosx)$。如：$\frac{sinx}{1+cosx}$，而$\frac{x+sinx}{1+cosx}$则不是。

所有的三角有理函数积分我们都可以通过$(令\tan\frac{x}{2}=t)$的方法将三角函数转换为有理分式形式。要想了解请参阅之前[不定积分-三角有理式积分](https://sybblogs.fun/wp-content/uploads/2023/03/%E7%AC%AC%E4%BA%94%E7%AB%A0%E2%80%94%E4%B8%8D%E5%AE%9A%E7%A7%AF%E5%88%86.html#%E4%B8%89-%E4%B8%89%E8%A7%92%E6%9C%89%E7%90%86%E5%BC%8F%E7%A7%AF%E5%88%86)一章。但用过的都知道这种方法有时候很麻烦，如：有的时候$\sin x和\cos x$次方太高$(超过二次)$，这时计算量就很大。所以这里再介绍几种方法。

## 1. 缩分母

分母为：$1\pm\sin x$或$1\pm\cos x$、$\sin x\pm\cos x$与$\cos x\pm\sin x$同下。

方法：分子分母可以同时乘以$1\mp\sin x$或$1\mp\cos x$，这样做的目的是让分母从两项变为一项。这就是"缩分母"。我们也可以利用二倍角公式：$1+\cos x=2\cos^2\frac{x}{2}$也能将分母变为一项。

$\Large 例1:求\int\frac{1}{1+\cos x}dx$
$$
\begin{equation*}
	\begin{aligned}
\\\Large{方法一：}\\
&原积分I\xRightarrow{分子分母同乘1-\cos x}\int\frac{1-\cos x}{\sin^2x}dx\\
\\
&=\int\csc^2xdx-\int\frac{\cos x}{\sin^2x}dx\\
\\
&=-\cot x+\frac{1}{\sin x}+C\\
\\
\Large{方法二：}\\
&原积分I\xRightarrow{令1+\cos x=2\cos^2\frac{x}{2}}\int\frac{1}{2\cos^2\frac{x}{2}}dx\\
\\
&=\int\sec^2\frac{x}{2}d(\frac{x}{2})=\tan\frac{x}{2}+C
	\end{aligned}
\end{equation*}
$$
$\Large 例2:求\int\frac{\cos x}{\sin x+\cos x}dx$
$$
\begin{equation*}
	\begin{aligned}
\\\Large{解：}\\
&原积分I=\int\frac{\cos x(\cos x-\sin x)}{\cos^2x-\sin^2x}dx=\int\frac{\cos^2x-\sin x\cos x}{\cos2x}dx\\
\\
&=\int\frac{\frac{1+\cos 2x}{2}-\frac{1}{2}\sin 2x}{\cos 2x}dx\\
\\
&=\frac{1}{2}\int \sec2xdx+\frac{1}{2}\int dx-\frac{1}{2}\int\tan 2xdx\\
\\
&=\frac{1}{4}\ln|\sec2x+\tan2x|+\frac{1}{2}x-\frac{1}{4}\ln|\sec 2x|+C
	\end{aligned}
\end{equation*}
$$

## 2. 化为有理函数

使用条件：函数$f(\sin x,\cos x)$，我们将其中$\cos x$变为$-\cos x$，满足$f(\sin x,-\cos x)=-f(\sin x,\cos x)$，那么我们可以使用。

方法：直接$d\sin x$，之后将$\sin x$看作整体，令其为$t$，此时积分可以化为有利分式积分。

$\Large 例:求\int\frac{\cos^3x-2\cos x}{1+\sin^2x+\sin^4x}dx$
$$
\begin{equation*}
	\begin{aligned}
\\\Large{解：}\\
&当\cos x=-\cos x时,原积分I=-\int\frac{\cos^3x-2\cos x}{1+\sin^2x+\sin^4x}dx\\
\\
&I=-\int\frac{1+\sin^2 x}{1+\sin^2x+\sin^4x}d(\sin x)\\
\\
&\xRightarrow{令\sin x=t}-\int\frac{1+t^2}{1+t^2+t^4}dt\\
\\
&=-\int\frac{1+\frac{1}{t^2}}{\frac{1}{t^2}+1+t^2}dt\\
\\
&=-\int\frac{1}{(t-\frac{1}{t})^2+3}d(t-\frac{1}{t})\\
\\
&=-\frac{1}{\sqrt{3}}\arctan(\frac{\sin x-\frac{1}{\sin x}}{\sqrt{3}})+C
	\end{aligned}
\end{equation*}
$$
同理，我们将$\sin x=-\sin x$代入积分也同样适用。此时$d\cos x$。

## 3. 化为有理分式2

使用条件：函数$f(\sin x,\cos x)$，我们将其中$\cos x$和$\sin x$变为$-\cos x$与$-\sin x$，满足$f(-\sin x,-\cos x)=f(\sin x,\cos x)$，此时满足这种情况

方法：凑成$d\tan x$，再将$\tan x$看为整体，令其为$t$。

经过我们前面联系，发现做题的时候有很多题是分子分母同时除以$\cos x$或$\cos^2x$，这是因为这样会出现$\sec^2 x$，方便$d\tan x$。

$\Large 例1:求\int\frac{1}{(3\sin x+2\cos x)^2}dx$
$$
\begin{equation*}
	\begin{aligned}
\\\Large{解：}\\
&原积分I\xRightarrow{分子分母同除\cos^2x}\int\frac{\sec^2x}{(3\tan x+2)^2}dx\\
\\
&=\int\frac{1}{(3\tan x+2)^2}d(\tan x)\\
\\
&=\frac{1}{3}\int\frac{1}{(3\tan x+2)^2}d(3\tan x+2)\\
\\
&=-\frac{1}{9\tan x+6}+C
	\end{aligned}
\end{equation*}
$$
$\Large 例2:\int\frac{1}{a^2\sin^2x+b^2\cos^2x}dx$
$$
\begin{equation*}
	\begin{aligned}
\\\Large{解：}\\
①&当a\ne0,b\ne0时:\\
\\
&原积分I\xRightarrow{分子分母同除\cos^2x}\int\frac{\sec^2x}{a^2\tan^2x+b^2}dx\\
\\
&=\int\frac{1}{a^2\tan^2x+b^2}d(\tan x)\\
\\
&=\frac{1}{a^2}\int\frac{1}{\tan^2x+(\frac{b}{a})^2}d(\tan x)\\
\\
&=\frac{1}{ab}\arctan(\frac{a\tan x}{b})+C\\
\\
&②当a=0,b\ne0:\\
\\
&I=\frac{1}{b^2}\int\sec^2xdx=\frac{1}{b^2}\tan x+C\\
\\
&③当b=0,a\ne0:\\
\\
&I=\frac{1}{a^2}\int\csc^2xdx=-\frac{1}{a^2}\cot x+C
	\end{aligned}
\end{equation*}
$$

## 3. 降幂公式简化积分

在做题过程中合理运用降幂公式可以简化积分，特别是对于多个三角函数相乘形式。

对于$\int\sin^mx·\cos^nxdx$，我们有以下规律：

1. 当$m,n$中**至少**有一个奇数时，我们用凑微分。

2. 若$m,n$**均为**偶数，则用降幂和二倍角公式。

   $\sin^2x=\frac{1-\cos2x}{2}$

   $\sin x\cos x=\frac{1}{2}\sin2x$

$\Large 例1:\int\sin^4x\cos^3xdx$
$$
\begin{equation*}
	\begin{aligned}
\\\Large{解：}\\ 
&\int\sin^4x\cos^2xd(\sin x)=\int\sin^4x(1-\sin^2x)d(\sin x)\\
\\
&=\frac{1}{5}\sin^5x-\frac{1}{7}\sin^7x+C
	\end{aligned}
\end{equation*}
$$
$\Large 例2:\int\sin^4x\cos^2xdx$
$$
\begin{equation*}
	\begin{aligned}
\\\Large{解：}\\ 
&原积分I=\int\sin^2x(\sin x\cos x)^2dx\\
\\
&=\int\frac{1-\cos2x}{2}·\frac{\sin^22x}{4}dx\\
\\
&=\frac{1}{8}\int\sin^22xdx-\frac{1}{8}\int\cos2x·\sin^22xdx
	\end{aligned}
\end{equation*}
$$

# 结尾思考

以上方法我们掌握后就能解决大部分不定积分问题。

> 对于分部积分$+$积分重现题目，我们可以算出以下三角函数积分：

$$
\begin{equation*}
	\begin{aligned}
&①\int\tan^nxdx\\
\\
&②\int\cot^ndx\\
\\
&③\int\sec^nxdx\\
\\
&④\int\csc^nxdx
	\end{aligned}
\end{equation*}
$$

对于$\int\sin^nxdx和\int\cos^nxdx$我们可以用华里士公式解决。